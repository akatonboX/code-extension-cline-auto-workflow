# cline-auto 説明書（README_ja）

この拡張機能は、vscodeが起動したときに、Clineのworkflowを自動実行することを目的としています。 
Clineには、自動的に実行する手段は用意されていません。この拡張機能は、これを実行するものです。
windowsにのみ対応します。  

## 利用方法
### 1. 下記のように記述されたファイルを用意してください。 <ワークフローのファイル名>には、実行したいワークフローのファイル名を記述してください。
``` text
cline-auto-workflow=<ワークフローのファイル名>
```
ただし、下記に留意して下さい。
- これは、1行目に記述する必要があります。
- <ワークフローのファイル名>にディレクトリの指定は不要です。```.clinerules\workflows\```のmdファイルのファイル名だけを指定してください。
- <ワークフローのファイル名>には、拡張子は含めます。
- <ワークフローのファイル名>は、拡張子も含めて25文字以内である必要があります。

### 2. ```code```コマンドでvscodeを実行します。
``` shell
code -n <フォルダのパス> -- <ファイルパス>
```
- -n: 新しいウィンドウを開くことを意味する、```code```のオプションです。
- <フォルダのパス>: フォルダーのパスを指定します。```.clinerules```が必要ですから、必ず指定してください。
- <ファイルパス>: 先ほど作ったファイルのパスです。起動時にこれが開きます。そして、この拡張機能は、起動時にアクティブになっているエディタで開いているテキストを、Clineで実行します。

## 機能
 起動時に、この拡張機能のactivate()が実行され、下記を実行します。
1. アクティブなエディタを探します。見つからない場合、ここで終了します。(このため、前述のように、<ファイルパス>を指定して起動します)
1. アクティブなエディタの内容から判断し、前述の利用方法のように記述されていれば、その内容からコマンドを作って、Clineのchatに転送します。これは、Clineのコマンド```cline.addToChat```を用います。
1. この拡張機能に含まれる、windows用のコマンドラインアプリケーション([EmulateEnter](./EmulateEnter/EmulateEnter/Program.cs))で、エンターキーをエミュレーションします。これによって、Clineにタスクを実行させます。 

## 必要条件
- これはおそらく、Clineの設計思想から外れています。自己責任でご利用ください。
- この拡張機能はWindows用です。
- .Net Framework 4.7.2が必要です。

## 拡張機能の設定
特にありません。

## 既知の問題
特にありません。

## リリースノート

### 1.0.0
初回リリース

